var containerInf=document.getElementById("popupinfo"),contentInf=document.getElementById("popup-content"),closerInf=document.getElementById("popup-closer"),overlayInf=new ol.Overlay({element:containerInf,autoPan:!0,autoPanAnimation:{duration:250}}),displayFeatureInfo=function(e){var n=e.coordinate,o=map.getEventPixel(e.originalEvent),t=[];if(map.forEachFeatureAtPixel(o,function(e,n){e.setProperties({info_title:n.getProperties().title},!0),t.push(e)}),console.log(t.length),t.length>0){contentInf.innerHTML="";for(var r in t){var i=t[r].getProperties();contentInf.innerHTML+=tmpl("tmpl-feature-info",i)}}else{var l=ol.coordinate.toStringHDMS(ol.proj.transform(n,"EPSG:3857","EPSG:4326"));contentInf.innerHTML="<p>You clicked here:</p><code>"+l+"</code>"}overlayInf.setPosition(n)};closerInf.onclick=function(){return overlayInf.setPosition(void 0),closerInf.blur(),!1},map.addOverlay(overlayInf),map.on("singleclick",function(e){displayFeatureInfo(e)});