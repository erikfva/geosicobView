<script id="tmpl-frmgeoprocess" type="text/x-tmpl"><div class="modal fade" id="dlg-frmgeoprocess" tabindex="-1" role="dialog" aria-labelledby="dlg-frmgeoprocess-label"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="dlg-frmgeoprocess-label">{%=o.title%}</h4></div><div class="modal-body navbar-inverse">{% include(o.template,o); %}</div><div class="collapse msg-board" style="margin:0px"></div></div></div></div></script><script id="tmpl-geosicob-layers" type="text/x-tmpl">{% map.getLayers().forEach(function (lyr) { %} {% if ((lyr.get('type') || 'undefined') == 'geosicob') { %}<option value="{%=lyr.get('id')%}">{%=lyr.get('title')%}</option>{% } %} {% }); %}</script><script id="tmpl-sicob_identificar_predio" type="text/x-tmpl"><form id="frm-sicob_identificar_predio" enctype="multipart/form-data" action="" method="POST"><input type="hidden" name="session_key" value=""> <input type="hidden" name="opciones" value="webservice"> <input type="hidden" name="x_proceso" value="sicob_obtener_predio"> <input type="hidden" id="x_entradatxt" name="x_entradatxt" value=""> <input type="hidden" name="x_opcionestxt" value=""><div class="form-template form-group"><label class="text-info" for="lyr_in">Seleccione la capa de pol&iacute;gonos:</label><select class="navbar-inverse form-control" id="lyr_in" name="lyr_in">{% include('tmpl-geosicob-layers',{}); %}</select></div><input type="hidden" id="modal-result" value=""> <button name="btnsubmit" class="btn btn-lg btn-primary" onclick="runGeoprocess({%=JSON.stringify(o)%});" type="button" id="btnsubmit" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Ejecutando...">Ejecutar</button></form></script><script type="text/javascript">function sicob_identificar_predio_success(e){return addGeojsonLayer({id:e.lyr_over,geojson:e.lyr_geojson,title:e.lyr_over,type:"geosicob"}),!0}function sicob_identificar_predio_beforeRun(){var e=$("#frm-sicob_identificar_predio"),r=e.find("#lyr_in").val();return r&&""!=r?(e.find("#x_entradatxt").val('{"lyr_in":"'+r+'","geojson":true}'),!0):(showAlertMsg({container:"#dlg-frmgeoprocess .msg-board",typemsg:"alert-danger",msg:"Debe seleccionar una capa.",delay:0}),!1)}</script>